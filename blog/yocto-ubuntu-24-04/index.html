<!doctype html><html data-theme=dark lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://tomirgang.de name=base><title>Tom Irgang • Yocto builds auf Ubuntu 24.04</title><link href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 55"><text y=".7em" font-size="82">🐧</text></svg>' rel=icon><link title="Tom Irgang - Atom Feed" href=https://tomirgang.de/atom.xml rel=alternate type=application/atom+xml><link href="https://tomirgang.de/custom_subset.css?h=753f2b519893883e57d5" rel=stylesheet><link href="https://tomirgang.de/main.css?h=2e02623b98889ce02fac" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="AppArmor Config für Yocto builds anpassen ..." name=description><meta content="AppArmor Config für Yocto builds anpassen ..." property=og:description><meta content="index, nofollow" name=robots><meta content="Yocto builds auf Ubuntu 24.04" property=og:title><meta content=article property=og:type><meta content=en_GB property=og:locale><link href=https://tomirgang.de/blog/yocto-ubuntu-24-04/ rel=canonical><meta content=https://tomirgang.de/blog/yocto-ubuntu-24-04/ property=og:url><meta content="Tom Irgang" property=og:site_name><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self' https://cdn.jsdelivr.net/;style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://tomirgang.de/no_js.css rel=stylesheet></noscript><script src=https://tomirgang.de/js/initializeTheme.min.js></script><script defer src=https://tomirgang.de/js/themeSwitcher.min.js></script><meta content=@tom@chaos.social name=fediverse:creator><script src="https://tomirgang.de/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://tomirgang.de>Tom Irgang</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/blog/> Blog </a><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/archive/> Archiv </a><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/tags/> Tags </a><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/projects/> Projekte </a><li class=js><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Yocto builds auf Ubuntu 24.04</h1><ul class=meta><li>By Tom Irgang</li> • <li>8 May 2025</li> • <li title="84 words">1 min read</li> • <li>Tags: <li><a href=https://tomirgang.de/tags/yocto/>Yocto</a>, <li><a href=https://tomirgang.de/tags/linux/>Linux</a>, <li><a href=https://tomirgang.de/tags/ubuntu/>Ubuntu</a></ul><section class=body><p>Ich bin inzwischen zurück zu Ubuntu gewechselt und verwende Ubuntu 24.04. Als ich kürzlich mal wieder ein Yocto basiertes Projekt bauen wollte schlug der Build aufgrund der AppArmor Konfiguration fehl. Die Lösung hat <a href=https://discourse.ubuntu.com/t/ubuntu-24-04-lts-noble-numbat-release-notes/39890>ein Ubuntu Discourse Eintrag</a> geliefert, die AppArmor Konfiguration musste angepasst werden um Bitbake das erstellen vun User Namespaces zu erlauben.<ul><li>Config-File anlegen: <code>sudo vi /etc/apparmor.d/bitbake</code>:</ul><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">abi</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-keyword z-operator z-assignment z-redirection z-shell"><</span>abi/4.0<span class="z-keyword z-operator z-assignment z-redirection z-shell">></span>,</span>
</span><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">include</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-keyword z-operator z-assignment z-redirection z-shell"><</span>tunables/global<span class="z-keyword z-operator z-assignment z-redirection z-shell">></span>
</span></span><span class="z-source z-shell z-bash">
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">/home/**/bitbake/bin/bitbake</span></span><span class="z-meta z-function-call z-arguments z-shell"> flags=(unconfined</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-punctuation z-definition z-compound z-braces z-begin z-shell">{</span>  
</span><span class="z-source z-shell z-bash">        <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">userns,</span></span><span class="z-meta z-function-call z-arguments z-shell">  </span>
</span><span class="z-source z-shell z-bash"><span class="z-punctuation z-definition z-compound z-braces z-end z-shell">}</span>
</span></code></pre><ul><li>Und anschließend die Konfiguration laden: <code>sudo apparmor_parser -r /etc/apparmor.d/bitbake</code></ul></section><nav class="full-width article-navigation"><div></div><div><a aria-describedby=right_title aria-label=Prev href=https://tomirgang.de/blog/vanillaos-binfmt/>Prev <span class=arrow>→</span></a><p aria-hidden=true id=right_title>QEMU User Emulation</div></nav></article></main><div id=button-container><a title="Go to the top of the page" class=no-hover-padding href=# id=top-button> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://tomirgang.de/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://tomirgang.de/atom.xml> <img alt=feed loading=lazy src=https://tomirgang.de/social_icons/rss.svg title=feed> </a><li class=js><a class="nav-links no-hover-padding social" data-encoded-email=bWVAdG9taXJnYW5nLmRl href=#><img alt=email loading=lazy src=https://tomirgang.de/social_icons/email.svg title=email> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://github.com/tomirgang/> <img alt=github loading=lazy src=https://tomirgang.de/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://chaos.social/@Tom> <img alt=mastodon loading=lazy src=https://tomirgang.de/social_icons/mastodon.svg title=mastodon> </a></ul></nav><nav class=nav-navs><small> <ul><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/about/> about </a><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/privacy/> privacy policy </a><li><a class="nav-links no-hover-padding" href=https://tomirgang.de/sitemap.xml> sitemap </a></ul> </small></nav><div class=credits><small> <p><p>Tom Irgang © 2025 • Unless otherwise noted, the content in this website is available under the <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0</a> license.</p> Powered by <a href=https://www.getzola.org>Zola</a> & <a href=https://github.com/welpo/tabi>tabi</a> • <a href=https://github.com/tomirgang/tomirgang.github.io> Site source </a></small></div></section><script async src=https://tomirgang.de/js/decodeMail.min.js></script><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>