<!DOCTYPE html>
<html lang="de">
<head>
        <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tom's Blog | Ein Blog mit Pelikan</title>
    <link rel="shortcut icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" type="text/css" />
    <meta name="generator" content="Pelican" />
    <meta name="description" content="" />
    <meta name="author" content="Tom" />

</head>
<body>
    <header>
        <nav style="overflow: hidden;">
            <ul>
                <li><a href="/">Home</a></li>
            </ul>
        </nav>
        <div class="header_box" style="height: 50px">
        <h1><a href="/">
            <image src='' class="avatar" width="50px" /><span class="site_title">Tom's Blog</span>
            </a></h1></div>
        </div>

        <div>
        Search: <input data-stork="sitesearch" />
        <div data-stork="sitesearch-output"></div>
        </div>
    </header>

    <div id="wrapper">
        <div id="content">            <h4 class="date">Sep 03, 2022</h4>

            <article class="post">
                <h2 class="title">
                    <a href="/ein-blog-mit-pelikan.html" rel="bookmark" title="Permanent Link to &quot;Ein Blog mit Pelikan&quot;">Ein Blog mit Pelikan</a>
                </h2>

                
                

                <p>Hi,</p>
<p>dies ist mein neuer Blog!</p>
<p>Mein Ziel ist es einen 100%dig wartungsfreien, sicheren und kostengünstigen Blog aufzusetzen.
Um dies zu erreichen habe ich mir für folgendes Setup entschieden:</p>
<ul>
<li>eigene Domain (kostet ein paar Euro im Jahr) -&gt; Hetzner Domains</li>
<li>statisch generierter Inhalt (wartungsfrei, 100%dig sicher) -&gt; Pelican Static-Site-Generator</li>
<li>Github Pages (kostenloses Hosting für statische Inhalte)</li>
</ul>
<h2>Pelican einrichten</h2>
<ul>
<li><a href="https://getpelican.com/#quickstart">Pelican Quickstart</a></li>
<li><a href="https://snipcart.com/blog/pelican-blog-tutorial-search-comments">A Pelican Tutorial: Static, Python-Powered Blog with Search &amp; Comments</a></li>
<li><a href="https://rasor.github.io/using-pelican-themes.html">Rasor's Tech Blog: Using Pelican Themes</a></li>
<li><a href="https://docs.getpelican.com/en/stable/index.html">Pelikan Doku</a></li>
<li><a href="https://github.com/tcarwash/blue-penguin-dark">Mein Theme</a></li>
<li><a href="https://github.com/pelican-plugins/search">Such-Plugin</a></li>
</ul>
<h3>Vorbereitung (nicht notwendig)</h3>
<p>Klonen der <a href="https://github.com/getpelican/pelican-plugins">Pelican Plugins</a> und der <a href="https://github.com/getpelican/pelican-themes">Pelican Themes</a>
Die Repos sind in git Submodulen organisert. Checkout der vollständigen Inhalte funktioniert mit:</p>
<div class="highlight"><pre><span></span><code>it submodule update --init --recursive
</code></pre></div>

<h3>Projekt</h3>
<p>Einrichten des Pelikan Projekts:</p>
<ul>
<li>Projektordner anlegen und hinein wechseln</li>
<li>Python venv anlegen: <code>python -m venv venv</code></li>
<li>Python venv aktivieren: <code>source ./venv/bin/activate</code></li>
<li>Pelican installieren: <code>pip install "pelican[markdown]"</code></li>
<li>Pelican Projekt anlegen: <code>pelican-quickstart</code></li>
<li><a href="https://getpelican.com/#quickstart">Artikel anlegen</a></li>
</ul>
<h3>Theme einrichten</h3>
<ul>
<li>Theme auswählen</li>
<li>Theme in den Projektordner kopieren</li>
<li>Theme installieren: <code>pelican-themes -i {Ordner}</code></li>
<li>Theme aktivieren: In <code>pelicanconf.py</code> folgende Zeilen hinzufügen:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Enalbe theme</span>
<span class="n">THEME</span> <span class="o">=</span> <span class="s1">&#39;blue-penguin-dark&#39;</span>
</code></pre></div>

<h3>Such-Plugin einrichten: Pelikan search</h3>
<h4>Abhängigkeiten installieren</h4>
<ul>
<li>Pelikan search benötigt <a href="https://stork-search.net/docs/install">Stork</a></li>
<li>Installieren mit Cargo: <code>cargo install stork-search --locked</code></li>
<li>Stork überprüfen: <code>stork --help</code></li>
<li>Pelikan search installieren: <code>pip install pelican-search</code></li>
</ul>
<h4>Plugin einbauen</h4>
<ul>
<li>Plugin aktivieren / Such-Index generieren: In <code>pelicanconf.py</code> folgende Zeilen hinzufügen:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c1"># Search settings</span>
<span class="n">SEARCH_MODE</span> <span class="o">=</span> <span class="s2">&quot;output&quot;</span>
<span class="n">SEARCH_HTML_SELECTOR</span> <span class="o">=</span> <span class="s2">&quot;article&quot;</span>
</code></pre></div>

<p>Default-Selektor ist "main". Dieser wird von meinem Theme nicht verwendet.</p>
<ul>
<li>Plugin in Templates integrieren: In <code>blue-penguin-dark/templates/base.html</code> folgende Zeilen hinzufügen:</li>
</ul>
<p>Im Header-Block</p>
<div class="highlight"><pre><span></span><code>        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        Search: <span class="p">&lt;</span><span class="nt">input</span> <span class="na">data-stork</span><span class="o">=</span><span class="s">&quot;sitesearch&quot;</span> <span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-stork</span><span class="o">=</span><span class="s">&quot;sitesearch-output&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

<p>Vor dem "</body>"-Tag:</p>
<div class="highlight"><pre><span></span><code>    <span class="cm">&lt;!-- Stork search --&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">media</span><span class="o">=</span><span class="s">&quot;screen and (prefers-color-scheme: dark)&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://files.stork-search.net/dark.css&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://files.stork-search.net/releases/v1.5.0/stork.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="nx">stork</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s2">&quot;sitesearch&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;{{ SITEURL }}/search-index.st&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<h3>Abschluss</h3>
<ul>
<li>Abhängigkeiten dokumentieren: <code>pip freeze &gt; dependencies.txt</code></li>
<li>.gitignore erstellen (<a href="https://www.toptal.com/developers/gitignore">Generator</a>: Python, Linux, Windows, macOS, VisualStudioCode)</li>
<li>output ignorieren</li>
<li>Git-Repo initialisieren: <code>git init .</code></li>
<li>Main-Branch: <code>git checkout -b main</code></li>
<li>Inhalt commiten: <code>git add .; git commit -a</code></li>
</ul>
                <div class="clear"></div>

                <div class="info">
                    <a href="/ein-blog-mit-pelikan.html">posted at 10:55</a>
                    &nbsp;&middot;&nbsp;<a href="/category/web.html" rel="tag">Web</a>
                </div>
            </article>
            <div class="clear"></div>
            <footer>
                <p>
                <a href="https://github.com/tcarwash/blue-penguin-dark">Blue Penguin Dark</a> Theme
                &middot;
                Powered by <a href="http://getpelican.com">Pelican</a>
            </footer>
        </div>
        <div class="clear"></div>
    </div>

    <!-- Stork search -->
    <link rel="stylesheet" media="screen and (prefers-color-scheme: dark)" href="https://files.stork-search.net/dark.css">
    <script src="https://files.stork-search.net/releases/v1.5.0/stork.js"></script>
    <script>
        stork.register("sitesearch", "/search-index.st")
    </script>
</body>
</html>